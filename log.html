<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login or Sign Up</title>
    <link href="log.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEJ6tIQt4BBJxFXXrH4rV9OasRz5czcZykxsffFCyYbbZ3dvoZyT0b7k8yha5" crossorigin="anonymous">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <img src="images (66).jpg" class="logo2"/>
    <div class="info">
    <h2>Welcome to Our BookStore</h2>

    <!-- User Information Display -->
    <div id="user-info">
        <p id="user-name"></p>
        <p id="user-email"></p>
    </div>

    <!-- Buttons -->
    <button id="login-button" style="border-radius: 10%;">Log In</button></body></html>
    <button id="sign">Sign Up</button>
</div>
    <!-- Sign Up Form (Hidden by default) -->
    <div id="sign-up-form" style="display: none;">
        <h3>Create Account</h3>
        <label for="full-name">Full Name:</label>
        <input type="text" id="full-name" placeholder="Enter your full name"><br><br>
        
        <label for="email">Email:</label>
        <input type="email" id="email" placeholder="Enter your email">
        <span id="email-error" style="color: red; display: none;">Please enter a valid email address (must contain 'example.com' or 'contain.com').</span><br><br>
        
        <label for="password">Password:</label>
        <input type="password" id="password" placeholder="Enter your password"><br><br>
        
        <button id="submit-signup">Sign Up</button>
    </div>

    <script>
        const loginButton = document.getElementById('login-button');
        const signUpButton = document.getElementById('sign');
        const signUpForm = document.getElementById('sign-up-form');
        const userNameDisplay = document.getElementById('user-name');
        const userEmailDisplay = document.getElementById('user-email');
        const emailInput = document.getElementById('email');
        const emailError = document.getElementById('email-error');

        // Function to handle login logic and display user information
        function handleLogin() {
            const user = JSON.parse(localStorage.getItem('user')); // Get user data from localStorage
            
            if (user) {
                // If user data exists, redirect to index.html
                window.location.href = "index.html"; 
            } else {
                // If no user found, show the sign-up form
                signUpForm.style.display = 'block';
                loginButton.style.display = 'none'; // Hide login button
                signUpButton.style.display = 'none'; // Hide sign up button
            }
        }

        // Handle Log In Button Click
        loginButton.addEventListener('click', handleLogin);

        // Handle Sign Up Button Click
        signUpButton.addEventListener('click', () => {
            signUpForm.style.display = 'block'; // Show the sign-up form
            loginButton.style.display = 'none'; // Hide login button
        });

        // Handle Sign Up Form Submission
        document.getElementById('submit-signup').addEventListener('click', () => {
            const fullName = document.getElementById('full-name').value;
            const email = emailInput.value;
            const password = document.getElementById('password').value;

            // Validate email format
           // const emailRegex = /^(?!.*@.*\.com$)(?!.*example\.com$).*$/; // Checks if email contains 'example.com' or 'contain.com'
           // if (email && !emailRegex.test(email)) {
             //   emailError.style.display = 'inline'; // Show error if invalid
             //   return; // Stop further processing if email is invalid
           // } else {
              //  emailError.style.display = 'none'; // Hide error if email is valid
           // }

            // Validate other fields
            if (fullName && email && password) {
                const user = { fullName, email, password };
                localStorage.setItem('user', JSON.stringify(user)); // Save user data to localStorage
                alert('Account created successfully!');
                handleLogin(); // Proceed with login after sign-up
            } else {
                alert('Please fill in all fields.');
            }
        });
    </script>
</body>
</html>
